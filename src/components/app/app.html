<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../header/header.html">
<link rel="import" href="../dialog/dialog.html">
<link rel="import" href="../list-view/list-view.html">
<link rel="import" href="../record-view/record-view.html">
<link rel="import" href="../start-view/start-view.html">
<link rel="import" href="../lock-view/lock-view.html">
<link rel="import" href="../settings-view/settings-view.html">
<link rel="import" href="../import-view/import-view.html">
<link rel="import" href="../categories-view/categories-view.html">
<link rel="import" href="../homescreen-view/homescreen-view.html">
<link rel="import" href="../select/select.html">
<link rel="import" href="../input/input.html">
<link rel="import" href="../progress/progress.html">
<link href="../../styles/fonts.css" rel="stylesheet" type="text/css">
<link href="../../styles/animations.css" rel="stylesheet" type="text/css">

<polymer-element name="padlock-app" touch-action="none" on-mousedown="{{ mousedown }}" on-showheader="{{ showHeader }}"
    on-hideheader="{{ hideHeader }}" on-open="{{ dialogOpen }}" on-close="{{ dialogClose }}" attributes="settings categories collection" constructor="Padlock">
    <template>
        <!-- STYLES -->
        <link href="app.css" rel="stylesheet" type="text/css">
        <!-- HEADER -->
        <padlock-header id="header" view="{{ currentView }}" filterString="{{ filterString }}"></padlock-header>
        <!-- ADD-TO-HOMESCREEN MESSAGE -->
        <padlock-homescreen-view class="view" id="homescreenView"></padlock-homescreen-view>
        <!-- PASSWORD VIEW -->
        <padlock-start-view id="passwordView" class="view" on-enter="{{ newPwdEnter }}"></padlock-start-view>
        <!-- LOCK VIEW -->
        <padlock-lock-view id="lockView" class="view" on-enter="{{ pwdEnter }}"></padlock-lock-view>
        <!-- LIST VIEW -->
        <padlock-list-view id="listView" class="view" collection="{{ collection }}" filterString="{{ filterString }}"
            categories="{{ categories }}" selected="{{ selected }}" on-add="{{ addRecord }}" orderBy="{{ orderOption.value }}"
            on-menu="{{ openMainMenu }}" on-import="{{ openImportView }}" on-synchronize="{{ synchronize }}"></padlock-list-view>
        <!-- RECORD VIEW -->
        <padlock-record-view id="recordView" class="view" on-save="{{ saveRecord }}" on-back="{{ recordViewBack }}"
            on-delete="{{ deleteRecord }}" on-categories="{{ openCategories }}"></padlock-record-view>
        <!-- Settings VIEW -->
        <padlock-settings-view id="settingsView" class="view" on-back="{{ settingsBack }}" on-import="{{ openImportView }}"
            collection="{{ collection }}" settings="{{ settings }}"></padlock-settings-view>
        <!-- IMPORT VIEW -->
        <padlock-import-view id="importView" class="view" on-import="{{ saveImportedRecords }}"
            on-back="{{ importBack }}"></padlock-import-view>
        <!-- CATEGORIES VIEW -->
        <padlock-categories-view id="categoriesView" class="view" categories="{{ categories }}" record="{{ selected }}"
            on-done="{{ categoriesDone }}" on-categorychanged="{{ categoryChanged }}"></padlock-categories-view>
        <!-- PROGRESS INDICATOR -->
        <padlock-progress id="progress"></padlock-progress>
        <!-- MAIN MENU -->
        <padlock-dialog id="mainMenu">
            <padlock-select openUpwards="true" selected="{{ orderOption }}">
                <padlock-option selected="true" value="name">Order by Name</padlock-option>
                <padlock-option value="category">Order by Category</padlock-option>
            </padlock-select>
            <button on-tap="{{ synchronize }}">Synchronize</button>
            <button on-tap="{{ openSettings }}">Settings</button>
            <button on-tap="{{ lock }}">Lock App</button>
        </padlock-dialog>
        <!-- ADD RECORD -->
        <padlock-dialog id="addDialog">
            <div class="title">Add Record</div>
            <input is="padlock-input" id="addInput" placeholder="Enter Record Name"/>
            <button class="primary" on-tap="{{ confirmAddRecord }}">Add</button>
        </padlock-dialog>
        <!-- ALERT -->
        <padlock-dialog id="alertDialog">
            <div class="title" id="alertText"></div>
            <button on-tap="{{ dismissAlert }}">OK</button>
        </padlock-dialog>
        <padlock-dialog id="notConnectedDialog">
            <div class="title">You need to be connected to the Padlock Cloud to synchronize your data.</div>
            <button on-tap="{{ openSettings }}" class="primary">Settings</button>
            <button on-tap="{{ dismissNotConnectedDialog }}">Cancel</button>
        </padlock-dialog>
    </template>
    <script src="app.js"></script>
</polymer-element>